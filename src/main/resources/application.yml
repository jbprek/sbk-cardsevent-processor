server:
  port: 10001
spring:
  application:
    name: sbk-card-event-processor-avro-scstreams

  cloud:
    function:
      definition: logCardEvents;processCardEvents # processCardEvents #;other functions

    stream:
      bindings:
        rest-producer:
          destination: cards-events-avro-topic
          content-type: application/json
        logCardEvents-in-0:
          destination: cards-events-avro-topic
          group: card-events-avro-group-2
          content-type: application/*+avro
        processCardEvents-in-0:
          destination: cards-events-json-topic
          group: card-events-json-group-process
          content-type: application/json
        processCardEvents-out-0:
          destination: cards-events-filtered-json-topic
          content-type: application/json
      kafka:
        binder:
          brokers: localhost:9092
          required-acks: all
          autoCreateTopics: false
          producer-properties:
            schema.registry.url: http://localhost:8081
            value.serializer: io.confluent.kafka.serializers.KafkaAvroSerializer
          consumer-properties:
            schema.registry.url: http://localhost:8081
            value.deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer
            specific.avro.reader: true
            auto.offset.reset: earliest
#
#          bindings:
#            logCardEvents-in-0:
#              consumer:
#                start-offset: earliest



logging:
  level:
    org:
      springframework: INFO
      apache.kafka: INFO
      springframework.kafka: INFO
      springframework.cloud.stream: DEBUG
      springframework.cloud.function: DEBUG


