server:
  port: 10001
spring:
  application:
    name: sbk-card-event-processor-json


  # JSON configuration
  jackson:
    serialization:
      write-dates-as-timestamps: true
      fail-on-empty-beans: false
    deserialization:
      fail-on-unknown-properties: false

  cloud:
    function:
      definition: logCardEvents;processCardEvents # processCardEvents #;other functions

    stream:
      bindings:
        rest-producer:
          destination: cards-events-json-topic
          content-type: application/json
        logCardEvents-in-0:
          destination: cards-events-json-topic
          group: card-events-json-group-log
          content-type: application/json
        processCardEvents-in-0:
          destination: cards-events-json-topic
          group: card-events-json-group-process
          content-type: application/json
        processCardEvents-out-0:
          destination: cards-events-filtered-json-topic
          content-type: application/json
      kafka:
        binder:
          brokers: localhost:9092
          autoCreateTopics: false
        bindings:
          logCardEvents-in-0:
            consumer:
              start-offset: earliest
              trusted-packages:
                - com.foo.cardevent.core.model

logging:
  level:
    org:
      springframework: INFO
      apache.kafka: INFO
      springframework.kafka: INFO


